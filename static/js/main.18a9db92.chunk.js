(this.webpackJsonpinactiv_search_react_00=this.webpackJsonpinactiv_search_react_00||[]).push([[0],{49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),o=(a(49),a(18)),i=a(5),s=(a(50),a(51),a(1));function d(e){return Object(s.jsx)("div",{className:"main_container_1",children:e.children})}var u,j,b,p,h,g=a(7),O=a(8),v=a(21),x=O.a.div(u||(u=Object(g.a)(["\nbackground-color: white;\nbackground-color: rgb(207, 216, 255);\nbackground-color: rgb(112, 125, 43);\nmargin: 0;\npadding: 20px 30px;\n"]))),f=O.a.nav(j||(j=Object(g.a)(["\ndisplay: flex;\n"]))),_=Object(O.a)(v.b)(b||(b=Object(g.a)(["\n    padding: 15px;\n    color: black;\n    text-decoration: none;\n    font-size: 18px;\n"])));function m(){return Object(s.jsx)(x,{children:Object(s.jsxs)(f,{children:[Object(s.jsx)(_,{to:"/",children:"Accueil"}),Object(s.jsx)(_,{to:"/ListeVillage",children:"Liste de vivi"})]})})}var S=O.a.div(p||(p=Object(g.a)(["\nbackground-color: white;\nbackground-color: rgb(207, 216, 255);\nmargin: 0;\npadding: 20px 30px;\n"]))),P=O.a.h1(h||(h=Object(g.a)(["\nmargin: 0;\npadding:0;\n"])));function y(){return Object(s.jsx)(S,{children:Object(s.jsx)(P,{children:"Footer"})})}var I,C=a(30),X=O.a.div(I||(I=Object(g.a)(["\nbackground-color: white;\n// background-color: rgb(207, 216, 255);\nmargin: 0;\npadding: 20px 50px;\n"])));function Y(e){var t=[];return e.server.list.forEach((function(e){t.push({value:e.value,label:e.label})})),Object(s.jsxs)(X,{children:[Object(s.jsx)("h2",{children:"Accueil"}),Object(s.jsx)("p",{children:"Outil de recherche d'inactifs. Pour commencer, choisir un serveur et entrer des coordon\xe9es :)"}),Object(s.jsx)("p",{children:e.server.actif.label}),Object(s.jsx)(C.a,{options:t,value:e.server.actif,onChange:function(t){return e.handleChangeServer(t)},defaultValue:{label:"eu7",value:"eu7.travian.fr"}}),Object(s.jsxs)("label",{children:["X",Object(s.jsx)("input",{type:"number",min:"-200",max:"200",value:e.filterChoice.X,onChange:function(t){return e.handleChangeX(t.target.value)}})]}),Object(s.jsxs)("label",{children:["Y",Object(s.jsx)("input",{type:"number",min:"-200",max:"200",value:e.filterChoice.Y,onChange:function(t){return e.handleChangeY(t.target.value)}})]}),Object(s.jsxs)("p",{children:["input origine : ",e.filterChoice.X," / ",e.filterChoice.Y]})]})}var k=a(82);function L(e){return Object(s.jsx)("div",{children:Object(s.jsx)(k.a,{min:e.min,max:e.max,value:e.data,onChange:function(t,a){e.setData(a)},valueLabelDisplay:"auto",marks:e.reperes,step:e.step?e.step:1})})}a(70);var J,A,F,E,N,w,V,D=O.a.form(J||(J=Object(g.a)(["\nbackground-color: #c1cdc0;\ntext-align: center;\n"]))),T=O.a.button(A||(A=Object(g.a)(["\nbackground-color: green;\n"])));function R(e){return Object(s.jsxs)(D,{children:[Object(s.jsxs)("p",{children:["Voff : ",e.X,"/",e.Y]}),Object(s.jsx)(T,{onClick:function(t){return function(t){t.preventDefault(),e.setRaidFilterToggle(!0)}(t)},children:"Filtre"})]})}var M=O.a.form(F||(F=Object(g.a)(["\n// background-color: purple;\n// background-color: #ffbb00;\n// background-color: #d08916;\n// background-color: #d08916;\nbackground-color: #c1cdc0;\n// background: linear-gradient(180deg,#ffbb00 0%, #c6980e 100%);\n// display: flex;\n// flex-direction: column;\n// justify-content: space-evenly;\n// flex-wrap: wrap; \ncolumn-count: 2;\ncolumn-gap: 5%;\ncolumn-rule: solid;\n// column-fill: balance;\n// border: 1px solid black;\n// text-align: center;\n"]))),U=O.a.fieldset(E||(E=Object(g.a)(["\n// background-color: olive;\nborder: none;\nborder-top: solid;\ndisplay: flex;\nflex-direction: column;\n// justify-content: center;\n// align-items: center;\n// text-align: center;\ncolumn-break-inside:avoid;\n"]))),z=O.a.h2(N||(N=Object(g.a)(["\ncolumn-span: all;\ntext-align: center;\n"]))),B=O.a.button(w||(w=Object(g.a)(["\ncolumn-span: all;\ntext-align: center;\nbackground-color: #df2f2f;\n// display: block;\nmargin: auto;\nmargin-top: 20px;\nmargin-bottom: 20px;\n"]))),$=O.a.div(V||(V=Object(g.a)(["\n// background-color: red;\n// display: flex;\n// flex-direction: row;\n"])));function q(e){var t=Object(n.useState)([0,21]),a=Object(i.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)({speed:7,time:3,pt_lvl:0}),o=Object(i.a)(c,2),d=o[0],u=o[1],j=Object(n.useState)("joueur"),b=Object(i.a)(j,2),p=b[0],h=b[1],g=Object(n.useState)([0,10]),O=Object(i.a)(g,2),v=O[0],x=O[1],f=Object(n.useState)(3),_=Object(i.a)(f,2),m=_[0],S=_[1],P=Object(n.useState)([0,2e3]),y=Object(i.a)(P,2),I=y[0],X=y[1],Y=Object(n.useState)([0,1e3]),k=Object(i.a)(Y,2),J=k[0],A=k[1],F=Object(n.useState)(!1),E=Object(i.a)(F,2),N=E[0],w=E[1],V=Object(n.useState)([]),D=Object(i.a)(V,2),T=D[0],q=D[1];Object(n.useEffect)((function(){if(d.speed*d.time<=20||0===d.pt_lvl)l([r[0],d.speed*d.time]);else{var e=20/d.speed,t=(d.time-e)*(d.speed*(1+.2*d.pt_lvl)),a=Math.round(20+t);a>r&&(a<=250?(l([r[0],a]),Q(a)):(l([r[0],250]),Q(250))),l([r[0],a])}}),[d]);var G=Object(n.useState)(100),H=Object(i.a)(G,2),K=H[0],Q=H[1],W=[{value:0,label:"0"},{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:50,label:"50"},{value:100,label:"100"}];Object(n.useEffect)((function(){r[1]>.9*K&&K<250&&Q(K+5),r[1]<.3*K&&K>100&&Q(K-5),K<r[1]&&K<250&&Q(Math.min(r[1],250)),(K>=200||r[1]>=200)&&W.push({value:200,label:"200"})}),[r]);var Z=function(e){h(e.target.value)},ee=function(e){"true"===e.target.value?w(!0):w(!1)},te=Object(n.useState)(!0),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1];Object(n.useEffect)((function(){var t={X:e.X,Y:e.Y,range:r,targetType:p,popEvolution:v,popEvolutionJour:m,populationVillage:J,populationJoueur:I,hideIfInAlliance:N,hideIfInThisAlliance:T,negativPop:ne};e.setFilterChoice(t)}),[]);var le=[];return e.server.list.forEach((function(e){le.push({value:e.value,label:e.label})})),Object(s.jsx)("div",{children:e.raidFilterToggle?Object(s.jsxs)(M,{children:[Object(s.jsx)(z,{children:"Filtre"}),Object(s.jsx)("div",{className:"container_button_form",children:Object(s.jsx)(B,{onClick:function(t){return function(t){t.preventDefault();var a={X:e.X,Y:e.Y,range:r,targetType:p,popEvolution:v,popEvolutionJour:m,populationVillage:J,populationJoueur:I,hideIfInAlliance:N,hideIfInThisAlliance:T,negativPop:ne};e.setFilterChoice(a),e.setRaidFilterToggle(!1)}(t)},children:"Let's go !"})}),Object(s.jsxs)($,{children:[Object(s.jsx)(C.a,{options:le,value:e.server.actif,onChange:function(t){return e.handleChangeServer(t)}}),Object(s.jsx)("input",{type:"number",min:"-200",max:"200",value:e.X,onChange:function(t){return e.handleChangeX(t.target.value)}}),Object(s.jsx)("input",{type:"number",min:"-200",max:"200",value:e.Y,onChange:function(t){return e.handleChangeY(t.target.value)}})]}),Object(s.jsxs)(U,{id:"Rayon d'action",children:[Object(s.jsx)("legend",{children:"Rayon d'action"}),Object(s.jsxs)("label",{children:["Distance (nbr de cases)",Object(s.jsx)(L,{min:0,max:K,data:r,setData:l,reperes:W})]}),Object(s.jsx)("p",{children:"OU temps"}),Object(s.jsxs)("label",{children:["Vitesse (case/h)",Object(s.jsx)("input",{type:"number",min:"3",max:"19",value:d.speed,onChange:function(e){return function(e){u({speed:parseInt(e),time:d.time,pt_lvl:d.pt_lvl})}(e.target.value)}})]}),Object(s.jsxs)("label",{children:["Temps (h)",Object(s.jsx)("input",{type:"number",min:"1",max:"20",value:d.time,onChange:function(e){return function(e){u({speed:d.speed,time:parseInt(e),pt_lvl:d.pt_lvl})}(e.target.value)}})]}),Object(s.jsxs)("label",{children:["PT (lvl)",Object(s.jsx)("input",{type:"number",min:"0",max:"20",value:d.pt_lvl,onChange:function(e){return function(e){u({speed:d.speed,time:d.time,pt_lvl:parseInt(e)})}(e.target.value)}})]})]}),Object(s.jsxs)(U,{id:"Activit\xe9 de la cible",children:[Object(s.jsx)("legend",{children:"Activit\xe9 de la cible"}),Object(s.jsx)("p",{children:"Cible :"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",id:"joueur",name:"target",value:"joueur",checked:"joueur"===p,onChange:Z}),Object(s.jsx)("label",{htmlFor:"joueur",children:"Joueur"}),Object(s.jsx)("input",{type:"radio",id:"village",name:"target",value:"village",checked:"village"===p,onChange:Z}),Object(s.jsx)("label",{htmlFor:"village",children:"Village"})]}),Object(s.jsx)("p",{children:"Evolution n\xe9gative ?"}),Object(s.jsxs)("label",{children:["oui",Object(s.jsx)("input",{type:"checkbox",checked:!0===ne,onChange:function(e){re(!ne)}})]}),Object(s.jsxs)("label",{children:["Evolution de la population de la cible :",Object(s.jsx)(L,{min:0,max:50,data:v,setData:x,reperes:[{value:0,label:"0"},{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:50,label:"ALL"}],step:5})]}),Object(s.jsxs)("label",{children:["Depuis combien de jours :",Object(s.jsx)(L,{min:1,max:5,data:m,setData:S,reperes:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}]})]})]}),Object(s.jsxs)(U,{id:"Population de la cible",children:[Object(s.jsx)("legend",{children:"Population"}),Object(s.jsxs)("label",{children:["Population Joueur",Object(s.jsx)(L,{min:0,max:1e4,data:I,setData:X,reperes:[{value:0,label:"0"},{value:5e3,label:"5000"},{value:1e4,label:"10000"}],step:1e3})]}),Object(s.jsxs)("label",{children:["Population Village",Object(s.jsx)(L,{min:0,max:1500,data:J,setData:A,reperes:[{value:0,label:"0"},{value:500,label:"500"},{value:1e3,label:"1000"},{value:1500,label:"1500"}],step:100})]})]}),Object(s.jsxs)(U,{id:"chase SI : liste options",children:[Object(s.jsx)("legend",{children:"Enl\xe8ve :"}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"Peuple"})})}),Object(s.jsx)("li",{children:Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Cache si dans une alliance ?"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",id:"non",name:"ally",value:"false",checked:!1===N,onChange:ee}),Object(s.jsx)("label",{htmlFor:"non",children:"Non"}),Object(s.jsx)("input",{type:"radio",id:"oui",name:"ally",value:"true",checked:!0===N,onChange:ee}),Object(s.jsx)("label",{htmlFor:"oui",children:"Oui"})]})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{children:["Cache cette alliance :",Object(s.jsx)("input",{type:"text",value:T,onChange:function(e){return function(e){q(e)}(e.target.value)}})]})})]})]})]}):Object(s.jsx)(R,{setRaidFilterToggle:e.setRaidFilterToggle,X:e.X,Y:e.Y})})}var G=a(12),H=a(35),K=a.n(H),Q=a(41);function W(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!0),o=Object(i.a)(c,2),s=o[0],d=o[1],u=Object(n.useState)(!1),j=Object(i.a)(u,2),b=j[0],p=j[1];return e&&(e="https://rocky-citadel-04936.herokuapp.com"+e),Object(n.useEffect)((function(){function t(){return(t=Object(Q.a)(K.a.mark((function t(){var a,n;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,l(n.sort((function(e,t){return e.distance-t.distance}))),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("err"),p(!0);case 14:return t.prev=14,d(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})))).apply(this,arguments)}e&&(console.log("start demande"),d(!0),function(){t.apply(this,arguments)}())}),[e]),{isLoading:s,data:r,error:b}}var Z,ee,te,ae,ne,re={primary:"#5843E4",secondary:"#8186A0",backgroundLight:"#F9F9FC"},le=Object(O.b)(Z||(Z=Object(g.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ce=O.a.div(ee||(ee=Object(g.a)(["\n  padding: 10px;\n  border: 6px solid ",";\n  border-bottom-color: transparent;\n  border-radius: 22px;\n  animation: "," 1s infinite linear;\n  height: 0;\n  width: 0;\n"])),re.primary,le),oe=(Object(O.a)(v.b)(te||(te=Object(g.a)(["\n  padding: 10px 15px;\n  color: #8186a0;\n  text-decoration: none;\n  font-size: 18px;\n  text-align: center;\n  ","\n"])),(function(e){return e.$isFullLink&&"color: white; \n    border-radius: 30px; \n    background-color: ".concat(re.primary,";")})),O.a.span(ae||(ae=Object(g.a)(["\ncolor: red;\nbackground-color: rgba(81, 22, 10, 1);\nborder-radius: 4px;\nmargin: 2px;\npadding: 2px;\n"])))),ie=O.a.span(ne||(ne=Object(g.a)(["\ncolor: green;\ncolor: rgba(62, 212, 25, 1);\nbackground-color: rgba(22, 85, 7, 1);\nborder-radius: 4px;\nmargin: 2px;\npadding: 2px;\n"])));function se(e){var t=e.today-e.before;return isNaN(e.before)&&(t=0),isNaN(e.today)?Object(s.jsx)("p",{}):Object(s.jsxs)("p",{children:[e.today+" ",0===t?Object(s.jsx)(s.Fragment,{}):t>0?Object(s.jsx)(oe,{children:"+"+t}):Object(s.jsx)(ie,{children:t})]})}function de(e){var t=e.joueur[e.joueur.length-1],a=e.joueur[e.joueur.length-2],n=e.joueur[e.joueur.length-3],r=t-a,l=a-n,c=n-e.joueur[e.joueur.length-4];return Object(s.jsxs)("p",{children:[e.joueurName+" ",c+" / "+l+" / "+r]})}var ue;a(72);function je(e){if(!Array.isArray(e.data))return Object(s.jsx)(s.Fragment,{children:"Error : no data"});var t="ts7.x1.europe.travian.com",a=(e.page-1)*e.townPerPage,n=e.page*e.townPerPage,r=e.data.slice(a,n);return r.length<=0&&e.handlePageChange(1),Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Distance"}),Object(s.jsx)("th",{children:"X/Y"}),Object(s.jsx)("th",{children:"Village"}),Object(s.jsx)("th",{children:"j-4"}),Object(s.jsx)("th",{children:"j-3"}),Object(s.jsx)("th",{children:"j-2"}),Object(s.jsx)("th",{children:"j-1"}),Object(s.jsx)("th",{children:"j"}),Object(s.jsx)("th",{children:"Alliance"}),Object(s.jsx)("th",{children:"Joueur"})]})}),Object(s.jsx)("tbody",{children:r.map((function(e){for(var a=0,n=0;n<5&&n<e.Pop_Player.length;n++){var r=e.Pop_Player[e.Pop_Player.length-n-1]-e.Pop_Player[e.Pop_Player.length-n-2];r>0&&(a+=1,r>=10&&(a+=1));var l=e.Pop[e.Pop.length-n-1]-e.Pop[e.Pop.length-n-2];l>0&&(a+=1,l>15&&(a+=1),l===r&&0!==l&&(a-=1)),r>l&&(a+=1)}return e.Pop_Player>2e3&&(a+=1),Object(s.jsxs)("tr",{className:0===a?"green":a<=2?"orange":3===a?"red":"black",children:[Object(s.jsxs)("td",{children:[e.distance," ",a," ","=>"+e.evol]},e.X+"_"+e.Y+"_1"),Object(s.jsx)("td",{children:"("+e.X+"/"+e.Y+")"},e.X+"_"+e.Y+"_2"),Object(s.jsx)("td",{children:Object(s.jsx)("a",{href:"https://"+t+"/position_details.php?x="+e.X+"&y="+e.Y,target:"_blank",rel:"noopener noreferrer",children:e.Vn.replace(/'/g,"")})},e.X+"_"+e.Y+"_3"),Object(s.jsx)("td",{children:e.Pop[e.Pop.length-5]},e.X+"_"+e.Y+"_4"),Object(s.jsx)("td",{children:Object(s.jsx)(se,{today:e.Pop[e.Pop.length-4],before:e.Pop[e.Pop.length-5]})},e.X+"_"+e.Y+"_5"),Object(s.jsx)("td",{children:Object(s.jsx)(se,{today:e.Pop[e.Pop.length-3],before:e.Pop[e.Pop.length-4]})},e.X+"_"+e.Y+"_6"),Object(s.jsx)("td",{children:Object(s.jsx)(se,{today:e.Pop[e.Pop.length-2],before:e.Pop[e.Pop.length-3]})},e.X+"_"+e.Y+"_7"),Object(s.jsx)("td",{children:Object(s.jsx)(se,{today:e.Pop[e.Pop.length-1],before:e.Pop[e.Pop.length-2]})},e.X+"_"+e.Y+"_8"),Object(s.jsx)("td",{children:e.An},e.X+"_"+e.Y+"_9"),Object(s.jsx)("td",{children:Object(s.jsx)("a",{href:"https://"+t+"/profile/"+e.Uid,target:"_blank",rel:"noopener noreferrer",children:Object(s.jsx)(de,{village:e.Pop,joueur:e.Pop_Player,joueurName:e.Un})})},e.X+"_"+e.Y+"_10")]},e.X+"_"+e.Y+"_0")}))})]})}function be(e){var t=e.dataDist,a=e.filterChoice,r=e.isLoadingAll,l=e.errorAll;a.X===t.coordonnees.X&&a.Y===t.coordonnees.Y&&null!==localStorage.getItem("data_0_30")||(localStorage.removeItem("data_0_30"),localStorage.removeItem("data_30_60"),localStorage.removeItem("data_60_90"),console.log("different data, need new dl"),console.log("double false"),l=!1,r=!1);var c=!1;null!==localStorage.getItem("data_0_30")&&parseInt(JSON.parse(localStorage.getItem("data_0_30"))[0].X)===parseInt(a.X)&&parseInt(JSON.parse(localStorage.getItem("data_0_30"))[0].Y)===parseInt(a.Y)||(c="/api/server/ts7.x1.europe.travian.com/town/30/"+a.X+"/"+a.Y);var o=W(c);o.isLoading||o.error||!o.data||(localStorage.setItem("data_0_30",JSON.stringify(o.data)),t.data_0_30=o.data);var d=!1;null!==localStorage.getItem("data_30_60")&&parseInt(JSON.parse(localStorage.getItem("data_30_60"))[0].X)===parseInt(a.X)&&parseInt(JSON.parse(localStorage.getItem("data_30_60"))[0].Y)===parseInt(a.Y)||(d="/api/server/ts7.x1.europe.travian.com/town/60/"+a.X+"/"+a.Y);var u=W(d);u.isLoading||u.error||!u.data||(localStorage.setItem("data_30_60",JSON.stringify(u.data)),t.data_30_60=u.data);var j=!1;null!==localStorage.getItem("data_60_90")&&parseInt(JSON.parse(localStorage.getItem("data_60_90"))[0].X)===parseInt(a.X)&&parseInt(JSON.parse(localStorage.getItem("data_60_90"))[0].Y)===parseInt(a.Y)||(j="/api/server/ts7.x1.europe.travian.com/town/90/"+a.X+"/"+a.Y);var b=W(j);b.isLoading||b.error||!b.data||(localStorage.setItem("data_60_90",JSON.stringify(b.data)),t.data_60_90=b.data),l=!!(o.error||u.error||b.error);var p,h=t.data_0_30.concat(t.data_30_60).concat(t.data_60_90),g=Object(G.a)(new Map(h.map((function(e){return[e._id,e]}))).values());p=g;var O=[];Array.isArray(p)&&!l&&(O=p.filter((function(e){var t=!0;(e.distance<parseInt(a.range[0])||e.distance>parseInt(a.range[1]))&&0!==e.distance&&(t=!1),a.hideIfInAlliance&&""!==e.An&&(t=!1);for(var n,r=0,l=0,c=0;c<a.popEvolutionJour;c++)n=0,"joueur"===a.targetType?n=e.Pop_Player[e.Pop_Player.length-c-1]-e.Pop_Player[e.Pop_Player.length-c-2]:"village"===a.targetType&&(n=e.Pop[e.Pop.length-1]-e.Pop[e.Pop.length-parseInt(a.popEvolutionJour)-1]),n>0&&(r+=n),l+=n;return e.evol=r,(r<parseInt(a.popEvolution[0])&&0!==parseInt(a.popEvolution[0])||l<parseInt(a.popEvolution[0])&&0===parseInt(a.popEvolution[0])&&!a.negativPop||r>=parseInt(a.popEvolution[1]))&&(t=!1),(e.Pop[e.Pop.length-1]<a.populationVillage[0]||e.Pop[e.Pop.length-1]>a.populationVillage[1])&&(t=!1),(e.Pop_Player[e.Pop_Player.length-1]<a.populationJoueur[0]||e.Pop_Player[e.Pop_Player.length-1]>a.populationJoueur[1])&&(t=!1),!!t}))).sort((function(e,t){return e.distance-t.distance})),null!==p&&""!==p||(l=!0);for(var v=Object(n.useState)(1),x=Object(i.a)(v,2),f=x[0],_=x[1],m=Object(n.useState)(20),S=Object(i.a)(m,2),P=S[0],y=S[1],I=[],C=Math.ceil(O.length/P),X=function(e){_(e)},Y=0;Y<C;Y++)I.push(Object(s.jsx)("button",{value:Y+1,onClick:function(e){return X(e.target.value)},children:Y+1},Y+1+"button"));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"Ici : liste de vivi selon le filtre"}),r?Object(s.jsx)(ce,{}):l?Object(s.jsx)("p",{children:"ERROR"}):Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[Object(s.jsxs)("p",{children:["data charg\xe9e : ",p.length," villages charg\xe9s / ",O.length," villages correspondants /"]}),Object(s.jsx)("input",{value:P,type:"number",max:"100",min:"10",step:"10",onChange:function(e){return function(e){e>=10&&e<=100&&e%10===0&&y(e)}(e.target.value)}})]}),I,Object(s.jsx)(je,{data:O.slice(0,3e4),page:f,townPerPage:P,handlePageChange:X})]})]})}var pe=O.a.div(ue||(ue=Object(g.a)(["\nbackground-color: white;\n// background-color: rgb(207, 216, 255);\nmargin: 0;\npadding: 20px 30px;\n"])));function he(e){var t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],l=a[1];return Object(s.jsxs)(pe,{children:[Object(s.jsx)(q,{setFilterChoice:e.setFilterChoice,X:e.filterChoice.X,Y:e.filterChoice.Y,raidFilterToggle:r,setRaidFilterToggle:l,handleChangeServer:e.handleChangeServer,handleChangeX:e.handleChangeX,handleChangeY:e.handleChangeY,server:e.server}),11!==Object.keys(e.filterChoice).length||r?Object(s.jsx)("p",{children:"Error : filter empty"}):Object(s.jsx)(be,{filterChoice:e.filterChoice,dataDist:e.dataDist,isLoadingAll:e.isLoadingAll,errorAll:e.errorAll})]})}var ge=a(6);var Oe=function(){var e={X:0,Y:0,serverLabel:"ts2",serverValue:"ts2.travian.fr",launch_fetch:!1};null!==localStorage.getItem("x")?(e.X=localStorage.getItem("x"),e.launch_fetch=!0):e.launch_fetch=!1,null!==localStorage.getItem("y")?(e.Y=localStorage.getItem("y"),e.launch_fetch=!0):e.launch_fetch=!1,null!==localStorage.getItem("serverLabel")?(e.serverLabel=localStorage.getItem("serverLabel"),e.launch_fetch=!0):e.launch_fetch=!1,null!==localStorage.getItem("serverValue")?(e.serverValue=localStorage.getItem("serverValue"),e.launch_fetch=!0):e.launch_fetch=!1;var t=Object(n.useState)({X:e.X,Y:e.Y}),a=Object(i.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)({list:[{label:"ts3",value:"ts3.travian.fr"},{label:"ts2",value:"ts2.travian.fr"},{label:"eu7",value:"eu7.travian.fr"}],actif:{label:e.serverLabel,value:e.serverValue}}),u=Object(i.a)(c,2),j=u[0],b=u[1],p=function(e){l(Object(o.a)(Object(o.a)({},r),{},{X:e})),localStorage.setItem("x",e)},h=function(e){l(Object(o.a)(Object(o.a)({},r),{},{Y:e})),localStorage.setItem("y",e)},g=function(e){b(Object(o.a)(Object(o.a)({},j),{},{actif:e})),localStorage.setItem("serverLabel",e.label),localStorage.setItem("serverValue",e.value)},O={coordonnees:{X:e.X,Y:e.Y},data_0_30:[],data_30_60:[],data_60_90:[]},x={data_0_30:!1,data_30_60:!1,data_60_90:!1};e.launch_fetch&&(null!==localStorage.getItem("data_0_30")?O.data_0_30=JSON.parse(localStorage.getItem("data_0_30")):x.data_0_30="/api/server/ts7.x1.europe.travian.com/town/30/"+e.X+"/"+e.Y,null!==localStorage.getItem("data_30_60")?O.data_30_60=JSON.parse(localStorage.getItem("data_30_60")):x.data_30_60="/api/server/ts7.x1.europe.travian.com/town/60/"+e.X+"/"+e.Y,null!==localStorage.getItem("data_60_90")?O.data_60_90=JSON.parse(localStorage.getItem("data_60_90")):x.data_60_90="/api/server/ts7.x1.europe.travian.com/town/90/"+e.X+"/"+e.Y);var f=W(x.data_0_30),_=!1;f.isLoading||f.error||!f.data||_||(localStorage.setItem("data_0_30",JSON.stringify(f.data)),O.data_0_30=f.data,_=!0);var S=W(x.data_30_60),P=!1;S.isLoading||S.error||!S.data||P||(localStorage.setItem("data_30_60",JSON.stringify(S.data)),O.data_30_60=S.data,P=!0);var I=W(x.data_60_90),C=!1;I.isLoading||I.error||!I.data||C||(localStorage.setItem("data_60_90",JSON.stringify(I.data)),O.data_60_90=I.data,C=!0);var X=!1;X=!!(f.error||S.error||I.error);var k=!0;return f.isLoading||S.isLoading||I.isLoading||(k=!1),null!==localStorage.getItem("data_0_30")&&null!==localStorage.getItem("data_30_60")&&null!==localStorage.getItem("data_60_90")&&(e.launch_fetch=!1,k=!1),Object(s.jsxs)(d,{children:[Object(s.jsxs)(v.a,{children:[Object(s.jsx)(m,{}),k&&e.launch_fetch?Object(s.jsx)(ce,{}):X?Object(s.jsx)("p",{children:"error"}):null,Object(s.jsxs)(ge.c,{children:[Object(s.jsx)(ge.a,{exact:!0,path:"/",element:Object(s.jsx)(Y,{handleChangeX:p,handleChangeY:h,filterChoice:r,setFilterChoice:l,server:j,handleChangeServer:g})}),Object(s.jsx)(ge.a,{exact:!0,path:"/ListeVillage",element:Object(s.jsx)(he,{handleChangeX:p,handleChangeY:h,filterChoice:r,setFilterChoice:l,server:j,handleChangeServer:g,dataDist:O,isLoadingAll:k,errorAll:X})})]})]}),Object(s.jsx)(y,{})]})};c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(Oe,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.18a9db92.chunk.js.map